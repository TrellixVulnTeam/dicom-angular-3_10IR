{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { DICOMViewerComponent } from './dicom/dicom-viewer.component';\nlet AppComponent = class AppComponent {\n  ngOnInit() {\n    cornerstoneWADOImageLoader.external.cornerstone = cornerstone; // inicializa WADO Image loader\n    // configura codecs e web workers\n\n    cornerstoneWADOImageLoader.webWorkerManager.initialize({\n      webWorkerPath: './assets/cornerstone/webworkers/cornerstoneWADOImageLoaderWebWorker.js',\n      taskConfiguration: {\n        'decodeTask': {\n          codecsPath: '../codecs/cornerstoneWADOImageLoaderCodecs.js'\n        }\n      }\n    });\n  }\n  /**\r\n   * Load selected DICOM images\r\n   *\r\n   * @param files list of selected dicom files\r\n   */\n\n\n  loadDICOMImages(files) {\n    if (files && files.length > 0) {\n      let imageList = [];\n      const fileList = Array.from(files);\n      fileList.sort((a, b) => {\n        if (a.name > b.name) return 1;\n        if (b.name > a.name) return -1;\n        return 0;\n      }); //cornerstoneWADOImageLoader.wadouri.fileManager.purge();\n\n      cornerstoneWADOImageLoader.wadouri.dataSetCacheManager.purge(); // loop thru the File list and build a list of wadouri imageIds (dicomfile:)\n\n      for (let i = 0; i < fileList.length; i++) {\n        const dicomFile = fileList[i];\n        const imageId = cornerstoneWADOImageLoader.wadouri.fileManager.add(dicomFile);\n        imageList.push(imageId);\n      }\n\n      this.viewPort.resetAllTools(); // now load all Images, using their wadouri\n\n      this.viewPort.loadStudyImages(imageList);\n    } else alert('Escolha imagens DICOM a exibir.');\n  }\n\n};\n\n__decorate([ViewChild(DICOMViewerComponent, {\n  static: true\n}), __metadata(\"design:type\", DICOMViewerComponent)], AppComponent.prototype, \"viewPort\", void 0);\n\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module"}